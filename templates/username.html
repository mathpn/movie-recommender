<!DOCTYPE html>
<html lang="en" >

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="{{ url_for('static', path='/css/style.css') }}">
</head>

<script>
    const postUsername = () => {
        username = document.querySelector("#username_input").elements["username"]
        url = "{{ url_for('login') }}";
        console.log(url);
        fetch(
            url, 
            {
                method: "POST", 
                headers: {'Accept': 'application/json', 'Content-Type': 'application/json'},
                body: JSON.stringify({username: username.value}),
            }
        ).then(
            (value => document.location.href=value.url)
        );
    };
</script>

<body>
    <iframe name="no_reload" style="display:none;"></iframe>
    <div class="wrap">
        <form id="username_input" onsubmit="return postUsername();" target="no_reload">
            <div class="search">
                <input type="text" class="searchTerm" name="username" placeholder="Enter your username">
                <button type="submit" class="searchButton">
                    <i class="fa fa-search"></i>
                </button>
            </div>
        </form>
    </div>
</body>
